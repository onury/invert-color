/*! @license https://github.com/onury/invert-color */
!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):r.invert=t()}(this,function(){"use strict";var r,t=Math.sqrt(1.05*.05)-.05,n=/^(?:[0-9a-f]{3}){1,2}$/i,i={black:"#000000",white:"#ffffff",threshold:t};function o(r){if("#"===r.slice(0,1)&&(r=r.slice(1)),!n.test(r))throw new Error('Invalid HEX color: "'+r+'"');return 3===r.length&&(r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]),[parseInt(r.slice(0,2),16),parseInt(r.slice(2,4),16),parseInt(r.slice(4,6),16)]}function s(r){if(!r)throw new Error("Invalid color value");return Array.isArray(r)?r:"string"==typeof r?o(r):[r.r,r.g,r.b]}function f(r,t,n){var e=!0===t?i:Object.assign({},i,t);return function(r){for(var t,n=[],e=0;e<r.length;e++)t=r[e]/255,n[e]=t<=.03928?t/12.92:Math.pow((.055+t)/1.055,2.4);return.2126*n[0]+.7152*n[1]+.0722*n[2]}(r)>e.threshold?n?o(e.black):e.black:n?o(e.white):e.white}function e(r,t){void 0===t&&(t=!1);var n,e=!1,i=!1;if("string"==typeof r&&r.startsWith("rgb")&&(r.startsWith("rgba")?i=!0:e=!0),e){if(n=r.match(/rgb\(([0-9 ]+),([0-9 ]+),([0-9 ]+)\)/)){var o=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])];return"rgb("+(o=t?f(o,t,!0):o.map(function(r){return 255-r})).join(",")+")"}throw new Error("Invalid rgb color string: "+r)}if(i){if(n=r.match(/rgba\(([0-9 ]+),([0-9 ]+),([0-9 ]+),([0-9. ]+)\)/)){var o=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=n[4].replace(/\s/g,"");return"rgba("+(o=t?f(o,t,!0):o.map(function(r){return 255-r})).join(",")+","+a+")"}throw new Error("Invalid rgba color string: "+r)}return r=s(r),t?f(r,t):"#"+r.map(function(r){return t=(255-r).toString(16),void 0===n&&(n=2),(new Array(n).join("0")+t).slice(-n);var t,n}).join("")}function a(r,t){r=s(r);var n,e=t?f(r,t,!0):r.map(function(r){return 255-r});return{r:(n=e)[0],g:n[1],b:n[2]}}return(r=e=e||{}).asRGB=a,r.asRgbArray=function(r,t){return r=s(r),t?f(r,t,!0):r.map(function(r){return 255-r})},r.defaultThreshold=t,r.asRgbObject=a,e});